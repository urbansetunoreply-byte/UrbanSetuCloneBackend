import{u as ha,o as ua,p as ma,i as ga,r as d,j as a,q as pa,C as fa,S as ba,aE as ka,y as xa}from"./index-C5FYe_cc.js";import{L as ya}from"./ListingItem-w7rjcaHu.js";import{G as ja}from"./GeminiAIWrapper-DeaQ60cC.js";import{L as wa}from"./LocationSelector-CD0rQlAB.js";import"./addressMasking-3vIUwCOC.js";import"./linkFormatter-C7AKBfXj.js";import"./countries_states_cities-CCOM4uJJ.js";const M="https://urbansetu.onrender.com";function Aa(){ha("Property Explorer - Admin Panel");const C=ua(),K=ma(),{currentUser:q}=ga(r=>r.user),[o,y]=d.useState({searchTerm:"",type:"all",parking:!1,furnished:!1,offer:!1,sort:"createdAt",order:"desc",minPrice:"",maxPrice:"",city:"",state:"",bedrooms:"",bathrooms:""}),[j,L]=d.useState([]),[A,F]=d.useState(!1),[Q,_]=d.useState(!1),[J,I]=d.useState({state:"",district:"",city:""}),[Z,H]=d.useState(""),[V,T]=d.useState(!1),[$,G]=d.useState(""),[X,z]=d.useState(!1),[R,Y]=d.useState(""),[W,D]=d.useState(!1),[w,p]=d.useState(""),[O,aa]=d.useState(null);d.useEffect(()=>{const r=new URLSearchParams(C.search);y({searchTerm:r.get("searchTerm")||"",type:r.get("type")||"all",parking:r.get("parking")==="true",furnished:r.get("furnished")==="true",offer:r.get("offer")==="true",sort:r.get("sort")||"createdAt",order:r.get("order")||"desc",minPrice:r.get("minPrice")||"",maxPrice:r.get("maxPrice")||"",city:r.get("city")||"",state:r.get("state")||"",bedrooms:r.get("bedrooms")||"",bathrooms:r.get("bathrooms")||""}),I({state:r.get("state")||"",district:r.get("district")||"",city:r.get("city")||""}),(async()=>{F(!0);try{const l=await(await fetch(`${M}/api/listing/get?${r.toString()}`)).json();L(l),_(l.length>8)}catch(e){console.error("Error fetching listings:",e)}F(!1)})()},[C.search]);const c=r=>{const{name:t,value:e,checked:l,type:f}=r.target;y(u=>({...u,[t]:f==="checkbox"?l:e}))},ea=r=>{r.preventDefault();const t=(o.searchTerm||"").trim(),e={...o},l=u=>{const g={mumbai:"Maharashtra",pune:"Maharashtra",nagpur:"Maharashtra",delhi:"Delhi","new delhi":"Delhi",bengaluru:"Karnataka",bangalore:"Karnataka",mysuru:"Karnataka",chennai:"Tamil Nadu",coimbatore:"Tamil Nadu",kolkata:"West Bengal",hyderabad:"Telangana",ahmedabad:"Gujarat",surat:"Gujarat",jaipur:"Rajasthan",lucknow:"Uttar Pradesh",noida:"Uttar Pradesh",kanpur:"Uttar Pradesh",gurgaon:"Haryana",gurugram:"Haryana",indore:"Madhya Pradesh",bhopal:"Madhya Pradesh",patna:"Bihar"},b=(u||"").toLowerCase();return g[b]||""};if(t){const u=t.match(/(\d+)\s*(bhk|bed|beds)/i)||t.match(/^(\d+)\s*bhk/i);u&&(e.bedrooms=u[1]);const g=t.match(/(?:under|below|within|upto|up to)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore)?/i);if(g&&(e.maxPrice=g[1].replace(/,/g,"")),g&&g[2]){const h=g[2].toLowerCase(),S=Number(e.maxPrice||0);h==="k"&&(e.maxPrice=String(S*1e3)),(h==="l"||h==="lac"||h==="lakh")&&(e.maxPrice=String(S*1e5)),(h==="cr"||h==="crore")&&(e.maxPrice=String(S*1e7))}const b=t.match(/(?:above|over|minimum|at least)\s*(\d[\d,]*)/i);b&&(e.minPrice=b[1].replace(/,/g,""));const v=t.match(/near\s+([a-zA-Z ]+)/i);v&&(e.city=v[1].trim());const P=t.match(/in\s+([a-zA-Z ]+)/i);P&&(e.city=P[1].trim()),e.city&&!e.state&&(e.state=l(e.city));const B=["andhra pradesh","arunachal pradesh","assam","bihar","chhattisgarh","goa","gujarat","haryana","himachal pradesh","jharkhand","karnataka","kerala","madhya pradesh","maharashtra","manipur","meghalaya","mizoram","nagaland","odisha","punjab","rajasthan","sikkim","tamil nadu","telangana","tripura","uttar pradesh","uttarakhand","west bengal","delhi"],E=t.toLowerCase(),k=B.find(h=>new RegExp(`(^|\b)${h}(\b|$)`).test(E));k&&(e.state=k.replace(/\b\w/g,h=>h.toUpperCase()));const N=t.match(/\b(rent|rental|sale|buy)\b/i);N&&(e.type=/rent/.test(N[1].toLowerCase())?"rent":"sale"),/no parking/i.test(t)?e.parking=!1:/parking/i.test(t)&&(e.parking=!0),/unfurnished/i.test(t)?e.furnished=!1:/furnished/i.test(t)&&(e.furnished=!0),t.match(/offer|discount|deal/i)&&(e.offer=!0),t.match(/furnished/i)&&(e.furnished=!0),t.match(/parking/i)&&(e.parking=!0)}const f=new URLSearchParams(e);K(`?${f.toString()}`)},ta=r=>{aa(r),G(""),p(""),T(!0)},ra=r=>{if(r.preventDefault(),!$.trim()){p("Reason is required");return}T(!1),p(""),z(!0)},sa=async r=>{if(r.preventDefault(),!R){p("Password is required");return}D(!0),p("");try{if(!(await fetch(`${M}/api/user/verify-password/${q._id}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:R})})).ok){p("Incorrect password. Property not deleted."),D(!1);return}const e=await fetch(`${M}/api/listing/delete/${O}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:$})});if(e.ok){L(f=>f.filter(u=>u._id!==O)),z(!1);const l=await e.json();xa.success(l.message||"Listing deleted successfully!")}else{const l=await e.json();p(l.message||"Failed to delete listing.")}}catch{p("An error occurred. Please try again.")}finally{D(!1)}},ia=r=>{r.preventDefault();const t=(Z||"").trim();if(!t)return;const e={...o};(s=>{const n=s.toLowerCase(),i={search:/(?:find|search|look for|looking for|need|want|require|dhundh|khoj|chahiye)/i,rent:/(?:rent|rental|renting|for rent|to rent|kiran|bhada|rent par)/i,buy:/(?:buy|purchase|sale|selling|for sale|to buy|kharid|bechne|sale par)/i,budget:/(?:budget|affordable|cheap|low cost|economical|paisa|dam|rate)/i,location:/(?:near|close to|around|in|at|from|paas|mein|se)/i,size:/(?:room|bedroom|bhk|bed|bath|bathroom|toilet|kamra|washroom)/i,amenities:/(?:parking|furnished|unfurnished|garden|balcony|lift|security|gym|pool|ac|air conditioning)/i};return{detectedIntent:Object.keys(i).find(ca=>i[ca].test(s)),query:n}})(t);const f=s=>{const n={mumbai:"Maharashtra",pune:"Maharashtra",nagpur:"Maharashtra",nashik:"Maharashtra",aurangabad:"Maharashtra",delhi:"Delhi","new delhi":"Delhi",noida:"Uttar Pradesh",gurgaon:"Haryana",gurugram:"Haryana",faridabad:"Haryana",bengaluru:"Karnataka",bangalore:"Karnataka",mysuru:"Karnataka",mysore:"Karnataka",mangalore:"Karnataka",hubli:"Karnataka",chennai:"Tamil Nadu",coimbatore:"Tamil Nadu",madurai:"Tamil Nadu",tiruchirapalli:"Tamil Nadu",salem:"Tamil Nadu",kolkata:"West Bengal",howrah:"West Bengal",durgapur:"West Bengal",asansol:"West Bengal",hyderabad:"Telangana",warangal:"Telangana",nizamabad:"Telangana",ahmedabad:"Gujarat",surat:"Gujarat",vadodara:"Gujarat",rajkot:"Gujarat",bhavnagar:"Gujarat",jaipur:"Rajasthan",jodhpur:"Rajasthan",udaipur:"Rajasthan",kota:"Rajasthan",bikaner:"Rajasthan",lucknow:"Uttar Pradesh",kanpur:"Uttar Pradesh",agra:"Uttar Pradesh",varanasi:"Uttar Pradesh",meerut:"Uttar Pradesh",indore:"Madhya Pradesh",bhopal:"Madhya Pradesh",gwalior:"Madhya Pradesh",jabalpur:"Madhya Pradesh",patna:"Bihar",gaya:"Bihar",bhagalpur:"Bihar",muzaffarpur:"Bihar",kochi:"Kerala",thiruvananthapuram:"Kerala",kozhikode:"Kerala",thrissur:"Kerala",visakhapatnam:"Andhra Pradesh",vijayawada:"Andhra Pradesh",guntur:"Andhra Pradesh",nellore:"Andhra Pradesh",chandigarh:"Chandigarh",panchkula:"Haryana",mohali:"Punjab"},i=(s||"").toLowerCase().trim();return n[i]||""},u=[/(\d+)\s*(bhk|bed|beds|bedroom|bedrooms|room|rooms)/i,/(\d+)\s*(?:ka|ke)\s*(?:room|kamra|bedroom)/i,/(\d+)\s*(?:bhk|bed|room)\s*(?:ka|ke)\s*(?:flat|apartment|ghar)/i,/(?:flat|apartment|ghar)\s*(?:with|mein)\s*(\d+)\s*(?:room|bed|bhk)/i,/(\d+)\s*(?:room|bed|bhk)\s*(?:wala|wali)\s*(?:flat|apartment|ghar)/i];for(const s of u){const n=t.match(s);if(n){e.bedrooms=n[1];break}}const g=[/(\d+)\s*(bath|baths|bathroom|bathrooms|toilet|toilets)/i,/(\d+)\s*(?:ka|ke)\s*(?:bathroom|toilet|washroom)/i,/(\d+)\s*(?:bath|toilet)\s*(?:ka|ke)\s*(?:flat|apartment|ghar)/i,/(?:flat|apartment|ghar)\s*(?:with|mein)\s*(\d+)\s*(?:bath|toilet)/i,/(\d+)\s*(?:bath|toilet)\s*(?:wala|wali)\s*(?:flat|apartment|ghar)/i];for(const s of g){const n=t.match(s);if(n){e.bathrooms=n[1];break}}const b=[/(?:under|below|upto|max|maximum)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:within|around|about)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:budget|budget of)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:less than|not more than)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:kam\s+se\s+kam|minimum|at\s+least)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:zyada\s+se\s+zyada|maximum|at\s+most)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:tak|se\s+zyada|se\s+kam)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:around|about|lagbhag|takriban)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:budget|paisa|rupees)\s*(?:hai|mein)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:price|dam|rate)\s*(?:hai|mein)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i];for(const s of b){const n=t.match(s);if(n){if(e.maxPrice=n[1].replace(/,/g,""),n[2]){const i=n[2].toLowerCase(),m=Number(e.maxPrice||0);(i==="k"||i==="thousand")&&(e.maxPrice=String(m*1e3)),(i==="l"||i==="lac"||i==="lakh"||i==="lakhs")&&(e.maxPrice=String(m*1e5)),(i==="cr"||i==="crore"||i==="crores")&&(e.maxPrice=String(m*1e7))}break}}const v=[/(?:above|more than|minimum|min|from)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i,/(?:starting from|starting at)\s*(\d[\d,]*)\s*(k|l|lac|lakh|cr|crore|thousand|lakhs|crores)?/i];for(const s of v){const n=t.match(s);if(n){if(e.minPrice=n[1].replace(/,/g,""),n[2]){const i=n[2].toLowerCase(),m=Number(e.minPrice||0);(i==="k"||i==="thousand")&&(e.minPrice=String(m*1e3)),(i==="l"||i==="lac"||i==="lakh"||i==="lakhs")&&(e.minPrice=String(m*1e5)),(i==="cr"||i==="crore"||i==="crores")&&(e.minPrice=String(m*1e7))}break}}const P=[/(?:near|close to|around)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:in|at|from)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:located in|situated in)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:area|locality|neighborhood)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:paas|near|ke\s+paas|ke\s+near)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:mein|in|at)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:area|ilaka|mohalla|colony)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:located|situated|hain)\s+(?:in|mein)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i,/(?:from|se)\s+([a-zA-Z\s]+?)(?:\s|$|,|\.)/i];for(const s of P){const n=t.match(s);if(n){const i=n[1].trim();if(i.length>2&&!/^(the|a|an|and|or|but|in|on|at|to|for|of|with|by)$/i.test(i)){e.city=i;break}}}e.city&&!e.state&&(e.state=f(e.city));const B=["andhra pradesh","arunachal pradesh","assam","bihar","chhattisgarh","goa","gujarat","haryana","himachal pradesh","jharkhand","karnataka","kerala","madhya pradesh","maharashtra","manipur","meghalaya","mizoram","nagaland","odisha","punjab","rajasthan","sikkim","tamil nadu","telangana","tripura","uttar pradesh","uttarakhand","west bengal","delhi","chandigarh","jammu and kashmir","ladakh"],E=t.toLowerCase(),k=B.find(s=>new RegExp(`(^|\b)${s}(\b|$)`).test(E));k&&(e.state=k.replace(/\b\w/g,s=>s.toUpperCase()));const N=[/\b(rent|rental|renting|for rent|to rent)\b/i,/\b(sale|sell|selling|for sale|to sell|buy|buying|purchase|purchasing)\b/i,/\b(lease|leasing|leased)\b/i,/(?:rent|kiran|bhada)\s+(?:ke\s+liye|par|mein)/i,/(?:sale|bechne|kharidne)\s+(?:ke\s+liye|par|mein)/i,/(?:for|ke\s+liye)\s+(?:rent|sale|kiran|bechne)/i,/(?:looking\s+for|chahiye|dhundh\s+raha)\s+(?:rent|sale|kiran|bechne)/i,/(?:want|chahiye)\s+(?:to\s+)?(?:rent|buy|kiran|kharid)/i,/(?:available\s+for|available)\s+(?:rent|sale|kiran|bechne)/i],U={parking:[/(?:parking|car\s+parking|vehicle\s+parking|garage)/i,/(?:parking\s+available|parking\s+space|car\s+space)/i,/(?:with\s+parking|parking\s+included)/i,/(?:parking|gaadi\s+rakhne\s+ki\s+jagah|vehicle\s+parking)/i],furnished:[/(?:furnished|fully\s+furnished|semi\s+furnished)/i,/(?:with\s+furniture|furniture\s+included)/i,/(?:ready\s+to\s+move|move\s+in\s+ready)/i,/(?:furnished|saman\s+ke\s+saath|ready\s+to\s+move)/i],unfurnished:[/(?:unfurnished|semi\s+furnished|bare)/i,/(?:without\s+furniture|no\s+furniture)/i,/(?:unfurnished|bina\s+saman\s+ke|khali)/i],garden:[/(?:garden|lawn|green\s+space|outdoor\s+space)/i,/(?:with\s+garden|garden\s+available)/i,/(?:garden|bagicha|lawn|green\s+area)/i],balcony:[/(?:balcony|terrace|veranda)/i,/(?:with\s+balcony|balcony\s+available)/i,/(?:balcony|terrace|veranda|chhat)/i],lift:[/(?:lift|elevator|elevator\s+available)/i,/(?:with\s+lift|lift\s+facility)/i,/(?:lift|elevator|lift\s+ki\s+facility)/i],security:[/(?:security|24\s*7\s*security|gated\s+community)/i,/(?:security\s+guard|security\s+system)/i,/(?:security|suraksha|guard|24\s*7\s*security)/i],gym:[/(?:gym|fitness\s+center|workout\s+area)/i,/(?:with\s+gym|gym\s+facility)/i,/(?:gym|fitness|vyayam\s+shala)/i],pool:[/(?:pool|swimming\s+pool)/i,/(?:with\s+pool|pool\s+facility)/i,/(?:pool|swimming\s+pool|tairne\s+ki\s+jagah)/i],ac:[/(?:ac|air\s+conditioning|air\s+conditioned)/i,/(?:with\s+ac|ac\s+available)/i,/(?:ac|air\s+conditioning|thandak)/i]};Object.keys(U).forEach(s=>{U[s].some(m=>m.test(t))&&(s==="furnished"&&(e.furnished=!0),s==="parking"&&(e.parking=!0),s==="offer"&&(e.offer=!0))});for(const s of N){const n=t.match(s);if(n){const i=n[1]||n[0];/rent|kiran|bhada|lease/i.test(i)?e.type="rent":/sale|bechne|kharidne|buy|purchase/i.test(i)&&(e.type="sale");break}}const x={parking:[/(?:with|having|includes?)\s+parking/i,/parking\s+(?:available|included|provided)/i,/(?:car\s+)?parking/i,/garage/i,/(?:gaadi|car|bike|scooter)\s+(?:parking|khada|rakhne)/i,/(?:parking|khada)\s+(?:hai|available|mila)/i,/(?:covered|chhaya)\s+(?:parking|khada)/i,/(?:basement|tala)\s+(?:parking|khada)/i,/(?:open|khula)\s+(?:parking|khada)/i],furnished:[/(?:fully\s+)?furnished/i,/(?:with|having|includes?)\s+furniture/i,/furniture\s+(?:included|provided|available)/i,/(?:semi\s+)?furnished/i,/(?:furnished|sajavata|sajaya|sajaya\s+hua)/i,/(?:furniture|samagri|saman)\s+(?:hai|available|mila)/i,/(?:ready|taiyar)\s+(?:to\s+move|rehne|rahan)/i,/(?:fully|puri\s+tarah|bilkul)\s+(?:furnished|sajaya)/i,/(?:semi|aadha|thoda)\s+(?:furnished|sajaya)/i,/(?:modern|naya|latest)\s+(?:furniture|samagri)/i],unfurnished:[/unfurnished/i,/(?:without|no)\s+furniture/i,/bare\s+apartment/i,/(?:unfurnished|khali|saman\s+nahi)/i,/(?:without|bina)\s+(?:furniture|samagri)/i,/(?:empty|khali)\s+(?:flat|apartment|ghar)/i,/(?:bare|nanga)\s+(?:flat|apartment)/i,/(?:no|nahi)\s+(?:furniture|samagri)/i],offer:[/(?:special\s+)?offer/i,/discount/i,/deal/i,/promotion/i,/(?:reduced|lower)\s+price/i,/(?:cheap|affordable|budget)/i,/(?:offer|sasta|kam\s+dam)/i,/(?:discount|chhut|bargain)/i,/(?:deal|sasta\s+deal|achha\s+deal)/i,/(?:cheap|sasta|kam\s+price)/i,/(?:affordable|paisa\s+vasool|value\s+for\s+money)/i,/(?:budget|kam\s+budget|sasta)/i,/(?:special|khas|limited)\s+(?:offer|deal)/i]};x.parking.some(s=>s.test(t))?e.parking=!0:/no\s+parking|without\s+parking/i.test(t)&&(e.parking=!1),x.furnished.some(s=>s.test(t))?e.furnished=!0:x.unfurnished.some(s=>s.test(t))&&(e.furnished=!1),x.offer.some(s=>s.test(t))&&(e.offer=!0),/small|compact|studio|1\s*bhk/i.test(t)?e.bedrooms="1":/medium|2\s*bhk|3\s*bhk/i.test(t)?e.bedrooms="2":/large|big|4\s*bhk|5\s*bhk/i.test(t)&&(e.bedrooms="4"),/urgent|immediate|asap|quick|fast/i.test(t)&&(e.sort="createdAt",e.order="desc"),/no parking/i.test(t)?e.parking=!1:/parking/i.test(t)&&(e.parking=!0),/unfurnished/i.test(t)?e.furnished=!1:/furnished/i.test(t)&&(e.furnished=!0),t.match(/offer|discount|deal/i)&&(e.offer=!0),t.match(/furnished/i)&&(e.furnished=!0),t.match(/parking/i)&&(e.parking=!0);const da=new URLSearchParams(e);K(`?${da.toString()}`)},na=async()=>{const r=new URLSearchParams(C.search);r.set("startIndex",j.length);const e=await(await fetch(`${M}/api/listing/get?${r.toString()}`)).json();L(l=>[...l,...e]),_(e.length>=8)},oa=r=>{I(r),y(t=>({...t,state:r.state,district:r.district,city:r.city}))};return A?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading properties..."})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 min-h-screen py-10 px-2 md:px-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-xl shadow-lg p-6 relative",children:[a.jsx("h3",{className:"text-3xl font-extrabold text-blue-700 mb-6 text-center drop-shadow",children:"Explore Properties (Admin View)"}),a.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Search and filter all properties across the platform"}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl mb-6 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("label",{className:"text-lg font-semibold text-blue-800",children:"Smart Search (Natural Language)"})]}),a.jsxs("form",{onSubmit:ia,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:Z,onChange:r=>H(r.target.value),placeholder:"3BHK above 50L in Bengaluru with parking",className:"w-full p-4 border-2 border-blue-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-lg pr-24 md:pr-4 placeholder:text-sm md:placeholder:text-base"}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 hidden md:block",children:a.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 transform hover:scale-105 shadow-lg font-semibold",children:"Search"})})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 transform hover:scale-105 shadow-lg font-semibold text-sm",children:"Search"})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Try:"}),["3BHK above 50L in Mumbai","2BHK with parking in Delhi","Furnished apartment in Bangalore","Budget house for sale in Pune"].map((r,t)=>a.jsx("button",{type:"button",onClick:()=>H(r),className:"text-xs bg-white border border-blue-300 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-50 transition-colors duration-200",children:r},t))]})]})]}),a.jsxs("form",{onSubmit:ea,className:"grid md:grid-cols-2 gap-4 bg-gray-100 p-4 rounded-lg mb-6",children:[a.jsx("input",{type:"text",name:"searchTerm",placeholder:"Search by property name, address, or description...",value:o.searchTerm,onChange:c,className:"p-2 border rounded-md w-full"}),a.jsxs("select",{name:"sort_order",onChange:r=>{const[t,e]=r.target.value.split("_");y(l=>({...l,sort:t,order:e}))},value:`${o.sort}_${o.order}`,className:"p-2 border rounded-md w-full",children:[a.jsx("option",{value:"regularPrice_desc",children:"Price high to low"}),a.jsx("option",{value:"regularPrice_asc",children:"Price low to high"}),a.jsx("option",{value:"createdAt_desc",children:"Latest"}),a.jsx("option",{value:"createdAt_asc",children:"Oldest"})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(wa,{value:J,onChange:oa,mode:"search"})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"type",value:"all",checked:o.type==="all",onChange:c})," ","All"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"type",value:"rent",checked:o.type==="rent",onChange:c})," ","Rent"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"type",value:"sale",checked:o.type==="sale",onChange:c})," ","Sale"]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",name:"parking",onChange:c,checked:o.parking})," ","Parking"]}),a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",name:"furnished",onChange:c,checked:o.furnished})," ","Furnished"]}),a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",name:"offer",onChange:c,checked:o.offer})," ","Offer"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",name:"minPrice",placeholder:"Min Price",value:o.minPrice,onChange:c,className:"p-2 border rounded-md w-full",min:0}),a.jsx("input",{type:"number",name:"maxPrice",placeholder:"Max Price",value:o.maxPrice,onChange:c,className:"p-2 border rounded-md w-full",min:0})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",name:"bedrooms",placeholder:"Bedrooms",value:o.bedrooms,onChange:c,className:"p-2 border rounded-md w-full",min:1}),a.jsx("input",{type:"number",name:"bathrooms",placeholder:"Bathrooms",value:o.bathrooms,onChange:c,className:"p-2 border rounded-md w-full",min:1})]}),a.jsxs("button",{type:"submit",className:"md:col-span-2 w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all transform hover:scale-105 shadow-lg font-semibold flex items-center justify-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4-4m0 0A7 7 0 104 4a7 7 0 0013 13z"})}),"Search"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["All Properties (",j.length,")"]}),A&&a.jsx("p",{className:"text-center text-lg font-semibold text-blue-600 animate-pulse",children:"Loading..."}),!A&&j.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("img",{src:pa,alt:"No properties found",className:"w-72 h-72 object-contain mx-auto mb-0"}),a.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Properties Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(r=>a.jsx(ya,{listing:r,onDelete:ta},r._id))}),Q&&a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx("button",{type:"button",onClick:na,className:"mt-4 bg-gray-600 text-white p-2 rounded-md w-500 hover:bg-gray-700 transition-colors",children:"Show More"})})]})]})}),a.jsx(ja,{}),a.jsx(fa,{}),V&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:a.jsxs("form",{onSubmit:ra,className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-xs flex flex-col gap-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-blue-700 flex items-center gap-2",children:[a.jsx(ba,{})," Reason for Deletion"]}),a.jsx("textarea",{className:"border rounded p-2 w-full",placeholder:"Enter reason for deleting this property",value:$,onChange:r=>G(r.target.value),rows:3,autoFocus:!0}),w&&a.jsx("div",{className:"text-red-600 text-sm",children:w}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 rounded bg-gray-200 text-gray-800 font-semibold",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-red-600 text-white font-semibold",children:"Next"})]})]})}),X&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:a.jsxs("form",{onSubmit:sa,className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-xs flex flex-col gap-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-blue-700 flex items-center gap-2",children:[a.jsx(ka,{})," Confirm Password"]}),a.jsx("input",{type:"password",className:"border rounded p-2 w-full",placeholder:"Enter your password",value:R,onChange:r=>Y(r.target.value),autoFocus:!0}),w&&a.jsx("div",{className:"text-red-600 text-sm",children:w}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 rounded bg-gray-200 text-gray-800 font-semibold",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-700 text-white font-semibold",disabled:W,children:W?"Deleting...":"Confirm & Delete"})]})]})})]})}export{Aa as default};
