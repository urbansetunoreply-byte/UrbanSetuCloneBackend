import{r as o,u as Q,j as e,z as w,F as b,a as I,b as L,c as z,d as O,e as _,f as x,g as D,h as Z,C as ee}from"./index-WPqAAPOK.js";const y="https://urbansetu.onrender.com";function ae(){const[t,C]=o.useState(null),[r,i]=o.useState(null),[U,B]=o.useState(!0),[p,k]=o.useState(!1),[Y,u]=o.useState(!1),[S,d]=o.useState(""),[f,g]=o.useState(!1),{currentUser:H}=Q(s=>s.user)||{},F=s=>{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.location.href=`tel:${s}`:navigator.clipboard.writeText(s).then(()=>{alert(`Phone number ${s} copied to clipboard!`)}).catch(()=>{const l=document.createElement("textarea");l.value=s,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),alert(`Phone number ${s} copied to clipboard!`)})},[X,j]=o.useState(!1),[N,T]=o.useState(""),[A,h]=o.useState("");o.useEffect(()=>{(async()=>{try{const a=await fetch(`${y}/api/about`);if(a.ok){const l=await a.json();C(l)}}catch{d("Failed to fetch About data.")}finally{B(!1)}})()},[]);const $=()=>{i({heroTitle:t.heroTitle||"Welcome to UrbanSetu",heroText:t.heroText||"",mission:t.mission||"",features:t.features?[...t.features]:[],whoWeServe:t.whoWeServe?[...t.whoWeServe]:[],trust:t.trust||"",team:t.team||"",contact:t.contact||"",customFields:t.customFields?[...t.customFields]:[],socialEmail:t.socialEmail||"",socialInstagram:t.socialInstagram||"",socialX:t.socialX||"",socialFacebook:t.socialFacebook||"",socialYouTube:t.socialYouTube||""}),g(!0),u(!1),d("")},n=s=>{const{name:a,value:l}=s.target;i(c=>({...c,[a]:l}))},E=(s,a,l)=>{i(c=>({...c,[s]:c[s].map((m,v)=>v===a?l:m)}))},W=s=>{i(a=>({...a,[s]:[...a[s],""]}))},P=(s,a)=>{i(l=>({...l,[s]:l[s].filter((c,m)=>m!==a)}))},V=()=>{j(!0),T(""),h("")},R=async s=>{if(s.preventDefault(),h(""),!N){h("Password is required");return}try{(await fetch(`${y}/api/user/verify-password/${H._id}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:N})})).ok?(j(!1),await J()):h("Incorrect password, no information changed")}catch{h("Incorrect password, no information changed")}},J=async()=>{k(!0),d(""),u(!1);try{(await fetch(`${y}/api/about`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"})).ok?(C(r),g(!1),u(!0),setTimeout(()=>u(!1),2e3)):d("Failed to save changes.")}catch{d("Failed to save changes.")}finally{k(!1)}},q=()=>{g(!1),i(null),d(""),u(!1)},M=(s,a,l)=>{i(c=>({...c,customFields:c.customFields.map((m,v)=>v===s?{...m,[a]:l}:m)}))},G=()=>{i(s=>({...s,customFields:[...s.customFields,{key:"",value:""}]}))},K=s=>{i(a=>({...a,customFields:a.customFields.filter((l,c)=>c!==s)}))};return U||!t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading about page..."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 min-h-screen py-10 px-2 md:px-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 relative",children:[e.jsx("div",{className:"flex justify-end items-center mb-4",children:!f&&e.jsxs("button",{onClick:$,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all transform hover:scale-105 shadow-lg font-semibold flex items-center gap-2",children:[e.jsx(w,{})," Edit"]})}),S&&e.jsx("div",{className:"text-red-600 mb-2",children:S}),Y&&e.jsx("div",{className:"text-green-600 mb-2",children:"Saved successfully!"}),!f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("h1",{className:"text-4xl font-extrabold text-blue-700 mb-4 drop-shadow flex items-center justify-center gap-2",children:[e.jsx(b,{className:"inline-block text-blue-400 mr-2"})," ",t.heroTitle||"Welcome to UrbanSetu"]}),e.jsx("p",{className:"text-lg text-slate-700 font-medium",children:t.heroText||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-700 flex items-center gap-2 mb-2",children:[e.jsx(I,{className:"text-purple-500"})," Our Mission"]}),e.jsx("p",{className:"text-slate-700 text-lg",children:t.mission||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"text-yellow-500"})," What We Offer"]}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700 text-lg",children:(t.features||[]).map((s,a)=>e.jsx("li",{children:s},a))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-700 flex items-center gap-2 mb-2",children:[e.jsx(z,{className:"text-green-500"})," Who We Serve"]}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700 text-lg",children:(t.whoWeServe||[]).map((s,a)=>e.jsx("li",{children:s},a))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2 mb-2",children:[e.jsx(O,{className:"text-blue-500"})," Trust & Transparency"]}),e.jsx("p",{className:"text-slate-700 text-lg",children:t.trust||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-700 flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"text-purple-500"})," Our Team"]}),e.jsx("p",{className:"text-slate-700 text-lg",children:t.team||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-700 flex items-center gap-2 mb-2",children:[e.jsx(x,{className:"text-green-500"})," Contact & Support"]}),e.jsx("p",{className:"text-slate-700 text-lg whitespace-pre-line mb-6",children:t.contact||""}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[e.jsx(D,{className:"text-blue-600"})," Phone Support"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>F("+1-555-123-4567"),className:"flex items-center gap-2 text-blue-700 hover:text-blue-800 hover:bg-blue-200 p-2 rounded-lg transition-all duration-200 w-full text-left",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{className:"font-medium",children:"+1 (555) 123-4567"})]}),e.jsxs("button",{onClick:()=>F("+1-555-987-6543"),className:"flex items-center gap-2 text-blue-700 hover:text-blue-800 hover:bg-blue-200 p-2 rounded-lg transition-all duration-200 w-full text-left",children:[e.jsx(D,{className:"text-blue-600"}),e.jsx("span",{className:"font-medium",children:"+1 (555) 987-6543"})]})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"ðŸ“± Mobile: Tap to call | ðŸ’» Desktop: Click to copy"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-3 flex items-center gap-2",children:[e.jsx(x,{className:"text-green-600"})," Email Support"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("a",{href:"mailto:support@urbansetu.com",className:"flex items-center gap-2 text-green-700 hover:text-green-800 hover:bg-green-200 p-2 rounded-lg transition-all duration-200",children:[e.jsx(x,{className:"text-green-600"}),e.jsx("span",{className:"font-medium",children:"support@urbansetu.com"})]}),e.jsxs("a",{href:"mailto:info@urbansetu.com",className:"flex items-center gap-2 text-green-700 hover:text-green-800 hover:bg-green-200 p-2 rounded-lg transition-all duration-200",children:[e.jsx(x,{className:"text-green-600"}),e.jsx("span",{className:"font-medium",children:"info@urbansetu.com"})]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"ðŸ“§ 24/7 email support available"})]})]})]}),t.customFields&&t.customFields.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"text-blue-400"})," Additional Information"]}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700 text-lg",children:t.customFields.map((s,a)=>e.jsxs("li",{children:[e.jsxs("span",{className:"font-semibold",children:[s.key,":"]})," ",s.value]},a))})]})]}),f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(w,{className:"text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-blue-700",children:"Edit Information"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Hero Title"}),e.jsx("input",{name:"heroTitle",value:r.heroTitle,onChange:n,className:"w-full border rounded p-2 mb-2"}),e.jsx("label",{className:"block font-semibold mb-1",children:"Hero Text"}),e.jsx("textarea",{name:"heroText",value:r.heroText,onChange:n,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(I,{className:"text-purple-500"})," Our Mission"]}),e.jsx("textarea",{name:"mission",value:r.mission,onChange:n,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(L,{className:"text-yellow-500"})," What We Offer"]}),r.features.map((s,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{value:s,onChange:l=>E("features",a,l.target.value),className:"w-full border rounded p-2"}),e.jsx("button",{type:"button",onClick:()=>P("features",a),className:"text-red-500 font-bold",children:"Ã—"})]},a)),e.jsx("button",{type:"button",onClick:()=>W("features"),className:"text-blue-600 underline",children:"+ Add Feature"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(z,{className:"text-green-500"})," Who We Serve"]}),r.whoWeServe.map((s,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{value:s,onChange:l=>E("whoWeServe",a,l.target.value),className:"w-full border rounded p-2"}),e.jsx("button",{type:"button",onClick:()=>P("whoWeServe",a),className:"text-red-500 font-bold",children:"Ã—"})]},a)),e.jsx("button",{type:"button",onClick:()=>W("whoWeServe"),className:"text-blue-600 underline",children:"+ Add Audience"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(O,{className:"text-blue-500"})," Trust & Transparency"]}),e.jsx("textarea",{name:"trust",value:r.trust,onChange:n,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(_,{className:"text-purple-500"})," Our Team"]}),e.jsx("textarea",{name:"team",value:r.team,onChange:n,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(x,{className:"text-green-500"})," Contact & Support"]}),e.jsx("textarea",{name:"contact",value:r.contact,onChange:n,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(b,{className:"text-blue-400"})," Additional Information"]}),(r.customFields||[]).map((s,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{placeholder:"Field Name",value:s.key,onChange:l=>M(a,"key",l.target.value),className:"w-1/3 border rounded p-2"}),e.jsx("input",{placeholder:"Field Value",value:s.value,onChange:l=>M(a,"value",l.target.value),className:"w-2/3 border rounded p-2"}),e.jsx("button",{type:"button",onClick:()=>K(a),className:"text-red-500 font-bold",children:"Ã—"})]},a)),e.jsx("button",{type:"button",onClick:G,className:"text-blue-600 underline",children:"+ Add Field"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(b,{className:"text-blue-400"})," Social Links"]}),e.jsx("input",{name:"socialEmail",value:r.socialEmail,onChange:n,className:"w-full border rounded p-2 mb-2",placeholder:"Email"}),e.jsx("input",{name:"socialInstagram",value:r.socialInstagram,onChange:n,className:"w-full border rounded p-2 mb-2",placeholder:"Instagram"}),e.jsx("input",{name:"socialX",value:r.socialX,onChange:n,className:"w-full border rounded p-2 mb-2",placeholder:"X"}),e.jsx("input",{name:"socialFacebook",value:r.socialFacebook,onChange:n,className:"w-full border rounded p-2 mb-2",placeholder:"Facebook"}),e.jsx("input",{name:"socialYouTube",value:r.socialYouTube,onChange:n,className:"w-full border rounded p-2 mb-2",placeholder:"YouTube"})]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{onClick:V,disabled:p,className:"bg-blue-700 text-white px-6 py-2 rounded font-bold hover:bg-blue-800 disabled:opacity-50",children:p?"Saving...":"Save Changes"}),e.jsx("button",{onClick:q,disabled:p,className:"bg-gray-300 text-gray-800 px-6 py-2 rounded font-bold hover:bg-gray-400 disabled:opacity-50",children:"Cancel"})]})]}),X&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:e.jsxs("form",{onSubmit:R,className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-xs flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-700 flex items-center gap-2",children:[e.jsx(w,{})," Confirm Password"]}),e.jsx("input",{type:"password",className:"border rounded p-2 w-full",placeholder:"Enter your password",value:N,onChange:s=>T(s.target.value),autoFocus:!0}),A&&e.jsx("div",{className:"text-red-600 text-sm",children:A}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 rounded bg-gray-200 text-gray-800 font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-700 text-white font-semibold",children:"Confirm"})]})]})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 mt-6 flex flex-col items-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connect with Us"}),e.jsxs("div",{className:"flex gap-4 text-2xl mb-2",children:[e.jsx("a",{href:t.socialEmail||"mailto:contact@urbansetu.com",target:"_blank",rel:"noopener noreferrer",title:"Email",children:e.jsx(x,{})}),e.jsx("a",{href:t.socialInstagram||"https://instagram.com/urbansetu",target:"_blank",rel:"noopener noreferrer",title:"Instagram",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5zm4.25 2.25a5.25 5.25 0 1 1 0 10.5a5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5zm5.25 1.25a1 1 0 1 1 0 2a1 1 0 0 1 0-2z"})})}),e.jsx("a",{href:t.socialX||"https://x.com/urbansetu",target:"_blank",rel:"noopener noreferrer",title:"X",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.53 2H21l-7.19 8.21L22 22h-6.56l-5.18-6.98L2.47 22H-1l7.61-8.7L2 2h6.56l4.93 6.64L17.53 2zm-2.1 16.5h2.13l-5.98-8.06l-2.13-2.87H7.47l5.98 8.06l2.13 2.87z"})})}),e.jsx("a",{href:t.socialFacebook||"https://facebook.com/urbansetu",target:"_blank",rel:"noopener noreferrer",title:"Facebook",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.675 0h-21.35C.595 0 0 .592 0 1.326v21.348C0 23.408.595 24 1.326 24H12.82v-9.294H9.692v-3.622h3.127V8.413c0-3.1 1.893-4.788 4.659-4.788c1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.408 24 22.674V1.326C24 .592 23.406 0 22.675 0"})})}),e.jsx("a",{href:t.socialYouTube||"https://youtube.com/@urbansetu",target:"_blank",rel:"noopener noreferrer",title:"YouTube",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a2.994 2.994 0 0 0-2.112-2.112C19.454 3.5 12 3.5 12 3.5s-7.454 0-9.386.574A2.994 2.994 0 0 0 .502 6.186C0 8.118 0 12 0 12s0 3.882.502 5.814a2.994 2.994 0 0 0 2.112 2.112C4.546 20.5 12 20.5 12 20.5s7.454 0 9.386-.574a2.994 2.994 0 0 0 2.112-2.112C24 15.882 24 12 24 12s0-3.882-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Â© ",new Date().getFullYear()," UrbanSetu. All rights reserved."]})]}),e.jsx(ee,{})]})}export{ae as default};
